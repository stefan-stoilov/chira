"use strict";(self.webpackChunkchira=self.webpackChunkchira||[]).push([[39],{"./src/features/auth/components/sign-up-card/sign-up-card.stories.tsx":(__unused_webpack_module,__webpack_exports__,__webpack_require__)=>{__webpack_require__.r(__webpack_exports__),__webpack_require__.d(__webpack_exports__,{Default:()=>Default,__namedExportsOrder:()=>__namedExportsOrder,default:()=>sign_up_card_stories});var jsx_runtime=__webpack_require__("./node_modules/.pnpm/next@14.2.22_@babel+core@7.26.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/compiled/react/jsx-runtime.js"),next_link=__webpack_require__("./node_modules/.pnpm/next@14.2.22_@babel+core@7.26.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/link.js"),link_default=__webpack_require__.n(next_link),fa=__webpack_require__("__barrel_optimize__?names=FaGithub,FaGoogle!=!./node_modules/.pnpm/react-icons@5.4.0_react@18.3.1/node_modules/react-icons/fa/index.mjs"),card=__webpack_require__("./src/components/ui/card.tsx"),separator=__webpack_require__("./src/components/ui/separator.tsx"),ui_button=__webpack_require__("./src/components/ui/button.tsx"),react=__webpack_require__("./node_modules/.pnpm/next@14.2.22_@babel+core@7.26.0_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/next/dist/compiled/react/index.js"),index_esm=__webpack_require__("./node_modules/.pnpm/react-hook-form@7.54.2_react@18.3.1/node_modules/react-hook-form/dist/index.esm.mjs"),zod=__webpack_require__("./node_modules/.pnpm/@hookform+resolvers@3.9.1_react-hook-form@7.54.2_react@18.3.1_/node_modules/@hookform/resolvers/zod/dist/zod.mjs"),eye_off=__webpack_require__("./node_modules/.pnpm/lucide-react@0.469.0_react@18.3.1/node_modules/lucide-react/dist/esm/icons/eye-off.js"),eye=__webpack_require__("./node_modules/.pnpm/lucide-react@0.469.0_react@18.3.1/node_modules/lucide-react/dist/esm/icons/eye.js"),dist=__webpack_require__("./node_modules/.pnpm/@radix-ui+react-visually-hidden@1.1.1_@types+react-dom@18.3.5_@types+react@18.3.18__@types+re_m7thze522i3jfpb2tnge6dybgi/node_modules/@radix-ui/react-visually-hidden/dist/index.mjs"),schemas=__webpack_require__("./src/features/auth/schemas/index.ts"),QueryClientProvider=__webpack_require__("./node_modules/.pnpm/@tanstack+react-query@5.62.11_react@18.3.1/node_modules/@tanstack/react-query/build/modern/QueryClientProvider.js"),useMutation=__webpack_require__("./node_modules/.pnpm/@tanstack+react-query@5.62.11_react@18.3.1/node_modules/@tanstack/react-query/build/modern/useMutation.js"),navigation=__webpack_require__("./node_modules/.pnpm/@storybook+nextjs@8.5.8_@swc+core@1.10.7_@swc+helpers@0.5.5__esbuild@0.21.5_next@14.2.22_@bab_q7hiqkiqhprmredo4tfpishlam/node_modules/@storybook/nextjs/dist/export-mocks/navigation/index.mjs"),sonner_dist=__webpack_require__("./node_modules/.pnpm/sonner@1.7.1_react-dom@18.3.1_react@18.3.1__react@18.3.1/node_modules/sonner/dist/index.mjs"),query_keys=__webpack_require__("./src/features/auth/api/query-keys.ts"),hc=__webpack_require__("./src/lib/hc.ts");const{rpc}=(0,hc.V)();var ui_form=__webpack_require__("./src/components/ui/form.tsx"),input=__webpack_require__("./src/components/ui/input.tsx");function SignUpForm(){const{mutate,isPending}=function useSignUp(){const queryClient=(0,QueryClientProvider.NL)(),router=(0,navigation.useRouter)();return(0,useMutation.D)({mutationFn:async({json})=>{const res=await rpc.api.auth["sign-up"].$post({json});if(!res.ok)throw new Error("Failed to sign in!");return await res.json()},onSuccess:()=>{queryClient.invalidateQueries({queryKey:query_keys.T.all}),router.push("/dashboard")},onError:err=>{sonner_dist.Am.error(err.message)}})}(),form=(0,index_esm.cI)({resolver:(0,zod.F)(schemas.J)}),[shouldShowPassword,setShouldShowPassword]=(0,react.useState)(!1),togglePasswordVisibility=e=>{e.preventDefault(),setShouldShowPassword((prev=>!prev))};return(0,jsx_runtime.jsx)(ui_form.l0,{...form,children:(0,jsx_runtime.jsxs)("form",{name:"Sign up form",onSubmit:form.handleSubmit((async data=>{mutate({json:data})})),className:"space-y-4",children:[(0,jsx_runtime.jsx)(ui_form.Wi,{control:form.control,name:"name",render:({field})=>(0,jsx_runtime.jsxs)(ui_form.xJ,{children:[(0,jsx_runtime.jsx)(ui_form.lX,{children:"Name"}),(0,jsx_runtime.jsx)(ui_form.pf,{hidden:!0,children:"Name input"}),(0,jsx_runtime.jsx)(ui_form.NI,{children:(0,jsx_runtime.jsx)(input.I,{...field,disabled:isPending,type:"text",placeholder:"Name"})}),(0,jsx_runtime.jsx)(ui_form.zG,{})]})}),(0,jsx_runtime.jsx)(ui_form.Wi,{control:form.control,name:"email",render:({field})=>(0,jsx_runtime.jsxs)(ui_form.xJ,{children:[(0,jsx_runtime.jsx)(ui_form.lX,{children:"Email"}),(0,jsx_runtime.jsx)(ui_form.pf,{hidden:!0,children:"Email input"}),(0,jsx_runtime.jsx)(ui_form.NI,{children:(0,jsx_runtime.jsx)(input.I,{...field,disabled:isPending,type:"email",placeholder:"your.email@example.com"})}),(0,jsx_runtime.jsx)(ui_form.zG,{})]})}),(0,jsx_runtime.jsx)(ui_form.Wi,{control:form.control,name:"password",render:({field})=>(0,jsx_runtime.jsxs)(ui_form.xJ,{className:"relative",children:[(0,jsx_runtime.jsx)(ui_form.lX,{children:"Password"}),(0,jsx_runtime.jsx)(ui_form.pf,{hidden:!0,children:"Password input"}),(0,jsx_runtime.jsx)(ui_form.NI,{children:(0,jsx_runtime.jsx)(input.I,{...field,disabled:isPending,type:shouldShowPassword?"text":"password",placeholder:"Password",className:"pr-9"})}),(0,jsx_runtime.jsx)("div",{className:"absolute right-2 top-9",children:(0,jsx_runtime.jsx)(ui_button.z,{variant:"ghost",className:"flex h-7 w-7 items-center justify-center p-0",onClick:togglePasswordVisibility,"data-testid":"toggle-password-visibility",children:shouldShowPassword?(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(dist.T,{children:"Show password"}),(0,jsx_runtime.jsx)(eye_off.Z,{})]}):(0,jsx_runtime.jsxs)(jsx_runtime.Fragment,{children:[(0,jsx_runtime.jsx)(dist.T,{children:"Hide password"}),(0,jsx_runtime.jsx)(eye.Z,{})]})})}),(0,jsx_runtime.jsx)(ui_form.zG,{children:"Password must have a minimum of 8 characters, at least one uppercase and lowercase character, at least one digit and special character."}),(0,jsx_runtime.jsx)(ui_button.z,{className:"px-0 font-normal",size:"sm",variant:"ghost",asChild:!0,children:(0,jsx_runtime.jsx)(link_default(),{href:"/reset-password",children:"Forgot Password?"})})]})}),(0,jsx_runtime.jsx)(ui_button.z,{disabled:isPending,className:"w-full",children:"Sign Up"})]})})}function SignUpCard(){return(0,jsx_runtime.jsxs)(card.Zb,{className:"h-full w-full border-none bg-muted shadow-none md:w-[500px]",children:[(0,jsx_runtime.jsxs)(card.Ol,{className:"flex items-center justify-center p-7 text-center",children:[(0,jsx_runtime.jsx)(card.ll,{className:"text-2xl",children:"Sign Up"}),(0,jsx_runtime.jsxs)(card.SZ,{children:["By signing up, you agree to our"," ",(0,jsx_runtime.jsxs)(link_default(),{href:"#",className:"text-blue-500",children:["Terms ","&"," Conditions"]}),"."]})]}),(0,jsx_runtime.jsx)("div",{className:"mb-7 px-7",children:(0,jsx_runtime.jsx)(separator.Z,{className:"bg-foreground"})}),(0,jsx_runtime.jsx)(card.aY,{children:(0,jsx_runtime.jsx)(SignUpForm,{})}),(0,jsx_runtime.jsx)("div",{className:"mb-7 px-7",children:(0,jsx_runtime.jsx)(separator.Z,{className:"bg-foreground"})}),(0,jsx_runtime.jsxs)(card.aY,{className:"flex flex-col gap-y-4 p-7",children:[(0,jsx_runtime.jsxs)(ui_button.z,{variant:"outline",size:"lg",className:"w-full",children:[(0,jsx_runtime.jsx)(fa.ldW,{})," Sign Up with Google"]}),(0,jsx_runtime.jsxs)(ui_button.z,{variant:"outline",size:"lg",className:"w-full",children:[(0,jsx_runtime.jsx)(fa.hJX,{})," Sign Up with GitHub"]})]})]})}SignUpForm.__docgenInfo={description:"",methods:[],displayName:"SignUpForm"},SignUpCard.__docgenInfo={description:"",methods:[],displayName:"SignUpCard"};var utils=__webpack_require__("./src/tests/utils.tsx");const sign_up_card_stories={title:"Features/Auth/SignUpCard",component:SignUpCard,decorators:Story=>(0,jsx_runtime.jsx)(utils.pf,{children:(0,jsx_runtime.jsx)(Story,{})})},Default={},__namedExportsOrder=["Default"];Default.parameters={...Default.parameters,docs:{...Default.parameters?.docs,source:{originalSource:"{}",...Default.parameters?.docs?.source}}}}}]);