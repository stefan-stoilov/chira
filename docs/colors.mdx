import { Meta } from "@storybook/blocks";
import { ColorPalette, ColorItem } from "@storybook/blocks";
import { ThemeProvider } from "@/components/providers/theme-provider";

import resolveConfig from "tailwindcss/resolveConfig";
import tailwindConfig from "../tailwind.config.ts";

export const fullConfig = resolveConfig(tailwindConfig);
export const colors = fullConfig.theme.colors;

export const themeColors = new Set([
  "card",
  "popover",
  "primary",
  "secondary",
  "muted",
  "accent",
  "destructive",
]);

<Meta title="System/Colors" />
<ColorPalette>
  {Object.entries(colors)
    .filter(([, value]) => typeof value !== "string")
    .filter(([name]) => themeColors.has(name))
    .map(([name, value]) => (
      <ColorItem key={name} title={name} colors={value} />
    ))}
</ColorPalette>
